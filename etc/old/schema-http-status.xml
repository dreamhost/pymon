<schema>
    <sectiontype name="http-status-base" extends="service-base">
        <key name="ok-threshold" datatype=".rangedValues" 
            default="100-101, 200-203, 300, 302-305"
            attribute="ok_threshold" />
        <key name="warn-threshold" datatype=".rangedValues" 
            default="204-206, 301, 401-403, 405-407, 411-416"
            attribute="warn_threshold" />
        <key name="error-threshold" datatype=".rangedValues" 
            default="400, 404, 408-410, 417, 500-505"
            attribute="error_threshold" />
    </sectiontype>

    <sectiontype name="http-status-defaults" extends="http-status-base">
        <key name="message-template" 
            default="The web server resource '%s' returned HTTP status %s (%s)."
            attribute="message_template" />
        <key name="ok-message"
            default="pymon OK: %s : HTTP status %s"
            attribute="ok_message" />
        <key name="recovering-message"
            default="pymon RECOVERING: %s : HTTP status %s"
            attribute="recovering_message" />
        <key name="warn-message"
            default="pymon WARN: %s : HTTP status %s"
            attribute="warn_message" />
        <key name="error-message"
            default="pymon ERROR: %s : HTTP status %s"
            attribute="error_message" />
        <key name="fail-message"
            default="pymon ERROR: Connection Failed for %s"
            attribute="fail_message" />
        <key name="sent-message"
            default="Sent http status notice email message to %s"
            attribute="sent_message" />
    </sectiontype>

    <sectiontype name="http-status-check" extends="http-status-base">
        <key name="uri" required="yes" />
        <key name="enabled" datatype="boolean" default="false"
            attribute="check_enabled" />
        <key name="escalation-enabled" datatype="boolean" default="false"
            attribute="escalation_enabled" />
        <key name="scheduled-downtime" datatype=".getDateRange" 
            attribute="scheduled_downtime" />
    </sectiontype>

    <sectiontype name="http-status">
        <section name="*" type="http-status-defaults"
            attribute="defaults" />

        <multisection name="*" type="http-status-check" 
            attribute="checks" />
    </sectiontype>
</schema>
